#Performing learning from log files

= Why, and how does it work ? =

If you have some legitimate traffic on your website, or if you are not in a rush, you can perform passive learning from nginx's log files.

The idea behind passive learning is to setup your naxsi+nginx in LearningMode, and to put a simple "return 200;" in your RequestDenied.
In this way, your users won't be blocked (as naxsi is in learning mode), but the potential exceptions will be catched by naxsi (as it still inspects the HTTP traffic).

When doing passive learning, you don't need nx_intercept to run as a daemon, as naxsi will write all the exceptions signatures into nginx's error_log.

After a few hours or a few days (depending on how many users you have), you will be able to use this error_log to generate whitelists. To do so, simply inject your error_log into nx_intercept database :
<code>
python nx_intercept.py -c naxsi-ui-learning.conf -l /var/log/nginx/mysite_error.log
</code>

Here, I decided to use SQLite type database, as we won't need concurrent access :

<code>
[sql]
dbtype = sqlite
username = root
password =
hostname = 127.0.0.1
dbname = naxsi_sig
</code>


= Details =

Add your content here.  Format your content with:
  * Text in *bold* or _italic_
  * Headings, paragraphs, and lists
  * Automatic links to other wiki pages